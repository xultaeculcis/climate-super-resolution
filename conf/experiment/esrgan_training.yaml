# @package _global_
defaults:
  - override /task: gan_training
  - override /datamodule: super_resolution_data_module
  - override /training: default
  - override /generator: esrgan
  - override /discriminator: discriminator
  - override /optimizers:
    - adam
    - adamw
  - override /schedulers:
    - cosine_schedule_with_warmup
    - cosine_schedule_with_warmup
  - override /trainer: default

training:
  lr: 1e-5
  batch_size: 192
  generator_type: "esrgan"
  experiment_name: esrgan-training-${now:%Y%m%d%H%M%S}

trainer:
  gpus: 1
  accumulate_grad_batches: 1
  benchmark: True
  precision: 16
  flush_logs_every_n_steps: 10
  log_every_n_steps: 10
  max_epochs: 100

datamodule:
  cfg:
    batch_size: ${training.batch_size}
    num_workers: ${training.num_workers}
    pin_memory: True
    data_path: "datasets"
    world_clim_variable: "temp"
    world_clim_multiplier: "4x"
    generator_type: "esrgan"
    scale_factor: 4
    seed: ${training.seed}
    normalization_method: "minmax"
    normalization_range: [ -1.0, 1.0 ]
    use_elevation: True
    use_mask: True
    use_global_min_max: True
